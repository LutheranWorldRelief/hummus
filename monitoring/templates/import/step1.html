{% extends 'nobase.html' %}
{% load static %}
{% load i18n %}
{% block extra_header %}
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/wizard.css' %}" rel="stylesheet">
    <link href="{% static 'css/fileinput.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/site.app.css' %}" rel="stylesheet">
    <link href="{% static 'css/kv-widgets.min.css' %}" rel="stylesheet">
    <link href="{% static '/js/lib/alertify/alertify.core.css' %}" rel="stylesheet">
    <link href="{% static '/js/lib/alertify/alertify.bootstrap.css' %}" rel="stylesheet">
    <link href="{% static '/js/lib/alertify1.11.1/css/alertify.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/AdminLTE.min.css' %}" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="{% static 'img/logo_user.png' %}">

{% endblock %}
{% block content %}

    <div class="container-fluid" style="margin-top: 5px">
        <div class="row mt-2">

            {% include 'import/wizard.html' %}

            <div class="tab-content">
                <div class="tab-pane active container-fluid" role="tabpanel" id="step">
                    <form id="w0" action="." method="post" enctype="multipart/form-data">

                        <div class="row">
                            <div class="col-lg-10 col-lg-offset-1">
                                <h3 class="text-info pull-left">{% trans 'Step 1' %}: {% trans 'Upload File' %}</h3>
                                <a href="{% url 'monitoring:template-clean' %}" class="btn btn-info pull-right"><i
                                        class="fa fa-download"></i>{% trans 'Download Template' %}</a>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-lg-10 col-lg-offset-1 well">
                                <label for="excel_file" class="control-label">
                                    <span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;
                                    {% trans 'Beneficiary Archive' %} </label>
                                <div class="file-input file-input-ajax-new">
                                    <div class="file-preview ">
                                        <button type="button" class="close fileinput-remove" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                        <div class=" file-drop-zone">
                                            <div class="file-drop-zone-title">{% trans 'Drag and drop files here' %} …
                                            </div>
                                            <div class="file-preview-thumbnails">
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="file-preview-status text-center text-success"></div>
                                            <div class="kv-fileinput-error file-error-message"
                                                 style="display: none;"></div>
                                        </div>
                                    </div>
                                    <div class="kv-upload-progress kv-hidden" style="display: none;">
                                        <div class="progress">
                                            <div class="progress-bar bg-success progress-bar-success progress-bar-striped active"
                                                 role="progressbar" aria-valuenow="0" aria-valuemin="0"
                                                 aria-valuemax="100" style="width:0%;">
                                                0%
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="input-group file-caption-main">
                                        <div class="file-caption form-control kv-fileinput-caption" tabindex="500">
                                            <span class="file-caption-icon"></span>
                                            <input class="file-caption-name" onkeydown="return false;"
                                                   onpaste="return false;"
                                                   placeholder="{% trans 'Select File' %}...">
                                        </div>
                                        <div class="input-group-btn input-group-append">
                                            <button type="button" tabindex="500"
                                                    title="{% trans 'Remove selected file' %}"
                                                    class=" btn btn-default btn-secondary fileinput-remove
                                                    fileinput-remove-button
                                            ">
                                                <i class="glyphicon glyphicon-trash"></i> <span
                                                    class="hidden-xs">{% trans 'Remove' %}</span></button>
                                            <button type="button" tabindex="500"
                                                    title="{% trans 'Abort the current climb' %}"
                                                    class="btn btn-default btn-secondary kv-hidden fileinput-cancel fileinput-cancel-button">
                                                <i class="glyphicon glyphicon-ban-circle"></i> <span
                                                    class="hidden-xs">{% trans 'Cancel' %}</span>
                                            </button>

                                            <div tabindex="500" class="btn btn-primary btn-file"><i
                                                    class="glyphicon glyphicon-folder-open"></i>&nbsp; <span
                                                    class="hidden-xs">{% trans 'Examine' %} …</span>
                                                <input type="file"
                                                       id="w1"
                                                       class="file"
                                                       name="excel_file"
                                                       accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel,text/comma-separated-values"
                                                       data-krajee-fileinput="fileinput_d08ef975">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br>

                        <ul class="list-inline pull-right">
                            <li>
                                <button type="submit" class="btn btn-success btn-block"><i
                                        class="fa fa-upload fa-w-16"></i>
                                    {% trans 'Import and continue' %}
                                </button>
                            </li>
                        </ul>
                        <div style="clear: both;"></div>
                    </form>
                </div>


            </div>
        </div>
    </div>

{% endblock %}
{% block extra_body %}
    <script src="{% static 'js/assets/jquery.js' %}"></script>
    <script src="{% static 'js/assets/yii.js' %}"></script>
    <script src="{% static 'js/fileinput.min.js' %}"></script>
    <script src="{% static 'js/kv-widgets.min.js' %}"></script>
    <script src="{% static 'js/yii.activeForm.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/adminlte.min.js' %}"></script>
    <script>jQuery(function ($) {
        inputFile = $('#w1');
        jQuery && jQuery.pjax && (jQuery.pjax.defaults.maxCacheLength = 0);
        if (inputFile.data('fileinput')) {
            inputFile.fileinput('destroy');
        }
        inputFile.fileinput();

        jQuery('#w0').yiiActiveForm([], []);
    });</script>

{% endblock %}